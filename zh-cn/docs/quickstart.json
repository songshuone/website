{
  "filename": "quickstart.md",
  "__html": "<h1>Dragonfly 快速入门</h1>\n<p>在本快速入门文档中，为了让您快速上手 Dragonfly，您首先要在 Docker 容器中启动一个 <a href=\"overview/terminology.md\">SuperNode</a>（服务端），并安装 Dragonfly 客户端，然后下载一个容器镜像或普通文件，这些下载工作可能是实际场景中经常要做的。</p>\n<h2>前提条件</h2>\n<p>Docker 容器已启动。</p>\n<h2>步骤 1：在 Docker 容器中启动 SuperNode（服务端）</h2>\n<ol>\n<li>\n<p>拉取我们提供的 Docker 镜像。</p>\n<pre><code class=\"language-bash\"><span class=\"hljs-comment\"># 将 ${imageName} 替换为真实镜像名称</span>\ndocker pull <span class=\"hljs-variable\">${imageName}</span>\n</code></pre>\n<p><strong>注意：</strong> 请根据您所处的地理位置选择我们提供的一个镜像，并用其替换 <code>${imageName}</code>：</p>\n<ul>\n<li>中国：<code>registry.cn-hangzhou.aliyuncs.com/dragonflyoss/supernode:0.2.1</code></li>\n<li>美国：<code>registry.us-west-1.aliyuncs.com/dragonflyoss/supernode:0.2.1</code></li>\n</ul>\n</li>\n<li>\n<p>启动 SuperNode。</p>\n<pre><code class=\"language-bash\"><span class=\"hljs-comment\"># 将 ${imageName} 替换为真实镜像名称</span>\ndocker run -d -p 8001:8001 -p 8002:8002 <span class=\"hljs-variable\">${imageName}</span>\n</code></pre>\n</li>\n</ol>\n<p>例如，如果您在中国，则运行以下命令：</p>\n<pre><code class=\"language-bash\">docker pull registry.cn-hangzhou.aliyuncs.com/dragonflyoss/supernode:0.2.1\n\ndocker run -d -p 8001:8001 -p 8002:8002 registry.cn-hangzhou.aliyuncs.com/dragonflyoss/supernode:0.2.1\n</code></pre>\n<h2>步骤 2：安装 Dragonfly 客户端</h2>\n<p>有两种方法可以安装 Dragonfly 客户端：从源码安装，或者通过拉取镜像来安装。</p>\n<h3>方法 1：从源码安装</h3>\n<ol>\n<li>\n<p>下载客户端的包。</p>\n<pre><code class=\"language-bash\"><span class=\"hljs-built_in\">cd</span> <span class=\"hljs-variable\">$HOME</span>\n<span class=\"hljs-comment\"># 将 ${package} 替换为适合您的操作系统和位置的包</span>\nwget <span class=\"hljs-variable\">${package}</span>\n</code></pre>\n<p><strong>注意：</strong> 请根据您所处的地理位置选择我们提供的一个包，并用其替换 <code>${package}</code>：</p>\n<ul>\n<li>\n<p>如果您在中国：</p>\n<ul>\n<li>\n<p><a href=\"http://dragonflyoss.oss-cn-hangzhou.aliyuncs.com/df-client_0.2.1_linux_amd64.tar.gz\">Linux 64-bit</a>: <code>http://dragonflyoss.oss-cn-hangzhou.aliyuncs.com/df-client_0.2.1_linux_amd64.tar.gz</code></p>\n</li>\n<li>\n<p><a href=\"http://dragonflyoss.oss-cn-hangzhou.aliyuncs.com/df-client_0.2.1_darwin_amd64.tar.gz\">MacOS 64-bit</a>: <code>http://dragonflyoss.oss-cn-hangzhou.aliyuncs.com/df-client_0.2.1_darwin_amd64.tar.gz</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p>如果您不在中国：</p>\n<ul>\n<li>\n<p><a href=\"https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.1/df-client_0.2.1_linux_amd64.tar.gz\">Linux 64-bit</a>: <code>https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.1/df-client_0.2.1_linux_amd64.tar.gz</code></p>\n</li>\n<li>\n<p><a href=\"https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.1/df-client_0.2.1_darwin_amd64.tar.gz\">MacOS 64-bit</a>: <code>https://github.com/dragonflyoss/Dragonfly/releases/download/v0.2.1/df-client_0.2.1_darwin_amd64.tar.gz</code></p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>将包解压。</p>\n<pre><code class=\"language-bash\"><span class=\"hljs-comment\"># 将 ${package} 替换为适合您的操作系统和位置的包</span>\ntar -zxf <span class=\"hljs-variable\">${package}</span>\n</code></pre>\n</li>\n<li>\n<p>将 <code>df-client</code> 目录添加到 <code>PATH</code> 环境变量，以便直接使用 <code>dfget</code> 和 <code>dfdaemon</code> 命令。</p>\n<pre><code class=\"language-bash\"><span class=\"hljs-comment\"># 执行或将这一行添加到 ~/.bashrc</span>\n<span class=\"hljs-built_in\">export</span> PATH=<span class=\"hljs-variable\">$PATH</span>:<span class=\"hljs-variable\">$HOME</span>/df-client/\n</code></pre>\n</li>\n</ol>\n<p>例如，如果您在中国且使用 Linux，则运行以下命令：</p>\n<pre><code class=\"language-bash\"><span class=\"hljs-built_in\">cd</span> <span class=\"hljs-variable\">$HOME</span>\nwget http://dragonflyoss.oss-cn-hangzhou.aliyuncs.com/df-client_0.2.1_linux_amd64.tar.gz\ntar -zxf df-client_0.2.1_linux_amd64.tar.gz\n<span class=\"hljs-comment\"># 执行或将这一行添加到 ~/.bashrc</span>\n<span class=\"hljs-built_in\">export</span> PATH=<span class=\"hljs-variable\">$PATH</span>:<span class=\"hljs-variable\">$HOME</span>/df-client/\n</code></pre>\n<h3>方法 2：通过拉取镜像来安装</h3>\n<ol>\n<li>\n<p>拉取我们提供的 Docker 镜像。</p>\n<pre><code class=\"language-bash\">docker pull dragonflyoss/dfclient:v0.3.0_dev\n</code></pre>\n</li>\n<li>\n<p>启动 dfdaemon。</p>\n<pre><code class=\"language-bash\">docker run -d -p 65001:65001 dragonflyoss/dfclient:v0.3.0_dev --registry https://xxx.xx.x\n</code></pre>\n</li>\n<li>\n<p>配置 Daemon 镜像。</p>\n<p>a.修改配置文件 <code>/etc/docker/daemon.json</code>。</p>\n<pre><code class=\"language-sh\">vi /etc/docker/daemon.json\n</code></pre>\n<p><strong>提示：</strong> 如需进一步了解 <code>/etc/docker/daemon.json</code>，请参考 <a href=\"https://docs.docker.com/registry/recipes/mirror/#configure-the-cache\">Docker 文档</a>。</p>\n<p>b.在配置文件中添加或更新配置项 <code>registry-mirrors</code>。</p>\n<pre><code class=\"language-sh\"><span class=\"hljs-string\">\"registry-mirrors\"</span>: [<span class=\"hljs-string\">\"http://127.0.0.1:65001\"</span>]\n</code></pre>\n<p>c.重启 Docker Daemon。</p>\n<pre><code class=\"language-bash\">systemctl restart docker\n</code></pre>\n</li>\n</ol>\n<h2>步骤 3：下载镜像或文件</h2>\n<p>现在已经启动 SuperNode 并安装 Dragonfly 客户端，所以可以开始下载镜像或普通文件了。Dragonfly 支持下载这两类文件，但下载方法略有不同。</p>\n<h3>场景 1：用 Dragonfly 下载普通文件</h3>\n<p>安装 Dragonfly 客户端后，即可使用 <code>dfget</code> 命令下载文件。</p>\n<pre><code class=\"language-bash\">dfget -u <span class=\"hljs-string\">'https://github.com/dragonflyoss/Dragonfly/blob/master/docs/images/logo.png'</span> -o /tmp/logo.png\n</code></pre>\n<p>**提示：**如需进一步了解 dfget 命令，请参考 <a href=\"cli_ref/dfget.md\">dfget</a>。</p>\n<h3>场景 2：用 Dragonfly 拉取镜像</h3>\n<ol>\n<li>\n<p>以指定的 Registry 启动 <code>dfdaemon</code>，例如 <code>https://index.docker.io</code>。</p>\n<pre><code class=\"language-bash\">nohup dfdaemon --registry https://index.docker.io &gt; /dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n</li>\n<li>\n<p>将以下这一行添加到 Dockerd 配置文件 <a href=\"https://docs.docker.com/registry/recipes/mirror/#configure-the-docker-daemon\">/etc/docker/daemon.json</a>。</p>\n<pre><code class=\"language-json\">\"registry-mirrors\": [\"http://127.0.0.1:65001\"]\n</code></pre>\n</li>\n<li>\n<p>重启 Dockerd。</p>\n<pre><code class=\"language-bash\">systemctl restart docker\n</code></pre>\n</li>\n<li>\n<p>用 Dragonfly 拉取镜像。</p>\n<pre><code class=\"language-bash\">docker pull nginx:latest\n</code></pre>\n</li>\n</ol>\n<h2>相关文档</h2>\n<ul>\n<li><a href=\"userguide/install_server.md\">安装服务端</a></li>\n<li><a href=\"userguide/install_client.md\">安装客户端</a></li>\n<li><a href=\"userguide/download_files.md\">下载文件</a></li>\n<li><a href=\"userguide/supernode_configuration.md\">SuperNode 配置</a></li>\n<li><a href=\"cli_ref/dfget.md\">Dfget</a></li>\n</ul>\n",
  "link": "/zh-cn/docs/quickstart.html",
  "meta": {}
}